[providers]
	[providers.mysql]
	backup_cmd = """
	mkdir -p $volume/backups && \
	echo $(if [ -z '$MYSQL_ROOT_PASSWORD' ]; then \
	  mysqldump --all-databases --extended-insert --user=$MYSQL_USER --password=$MYSQL_PASSWORD; else \
	  mysqldump --all-databases --extended-insert --password=$MYSQL_ROOT_PASSWORD; \
	fi) > $volume/backups/all.sql"""
	detect_cmd = "[[ -x $(command -v mysqldump) ]]"
	pre_cmd = ""
	post_cmd = ""
	backup_dir = "backups"

	[providers.postgresql]
	backup_cmd = "pg_dumpall --clean -Upostgres > $volume/backups/all.sql"
	detect_cmd = "[[ -x $(command -v pg_dumpall) ]]"
	backup_dir = "backups"

	[providers.openldap]
	backup_cmd = "slapcat > $volume/backups/all.ldif"
	detect_cmd = "[[ -x $(command -v slapcat) ]]"
	backup_dir = "backups"
