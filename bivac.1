.TH bivac 1 "2 May 2018"
.SH NAME
bivac \- Docker volumes backup
.SH SYNOPSIS
\fBbivac\fP [OPTIONS]
.SH DESCRIPTION
Bivac lets you backup all your names Docker volumes using Duplicity or RClone.

Bivac supports multiple engines for performing the backup:

* Duplicity (default engine)

* RClone: use for heavy data that Duplicity cannot manage efficiently

* Restic

.SH OPTIONS
.SS Application Options
.TP
\fB\fB\-V\fR, \fB\-\-version\fR\fP
Display version.
.TP
\fB\fB\-l\fR, \fB\-\-loglevel\fR <default: \fI"info"\fR>\fP
Set loglevel ('debug', 'info', 'warn', 'error', 'fatal', 'panic').
.TP
\fB\fB\-b\fR, \fB\-\-blacklist\fR <default: \fI$BIVAC_VOLUMES_BLACKLIST\fR>\fP
Volumes to blacklist in backups.
.TP
\fB\fB\-m\fR, \fB\-\-manpage\fR\fP
Output manpage.
.TP
\fB\fB\-\-no-verify\fR <default: \fI$BIVAC_NO_VERIFY\fR>\fP
Do not verify backup.
.TP
\fB\fB\-j\fR, \fB\-\-json\fR <default: \fI$BIVAC_JSON_OUTPUT\fR>\fP
Log as JSON (to stderr).
.TP
\fB\fB\-E\fR, \fB\-\-engine\fR <default: \fI"duplicity"\fR>\fP
Backup engine to use.
.TP
\fB\fB\-o\fR, \fB\-\-orchestrator\fR <default: \fI"docker"\fR>\fP
Container orchestrator to use.
.TP
\fB\fB\-u\fR, \fB\-\-target-url\fR <default: \fI$BIVAC_TARGET_URL\fR>\fP
The target URL to push to.
.TP
\fB\fB\-H\fR, \fB\-\-hostname-from-rancher\fR <default: \fI$BIVAC_HOSTNAME_FROM_RANCHER\fR>\fP
Retrieve hostname from Rancher metadata.
.TP
\fB\fB\-\-check-every\fR <default: \fI"24h"\fR>\fP
Time between backup checks.
.TP
\fB\fB\-\-remove-older-than\fR <default: \fI"30D"\fR>\fP
Remove backups older than the specified interval.
.TP
\fB\fB\-\-label-prefix\fR <default: \fI$BIVAC_LABEL_PREFIX\fR>\fP
The volume prefix label.
.SS Duplicity Options
.TP
\fB\fB\-\-duplicity-image\fR <default: \fI"camptocamp/duplicity:latest"\fR>\fP
The duplicity docker image.
.TP
\fB\fB\-\-full-if-older-than\fR <default: \fI"15D"\fR>\fP
The number of days after which a full backup must be performed.
.SS RClone Options
.TP
\fB\fB\-\-rclone-image\fR <default: \fI"camptocamp/rclone:1.33-1"\fR>\fP
The rclone docker image.
.SS Restic Options
.TP
\fB\fB\-\-restic-image\fR <default: \fI"restic/restic:latest"\fR>\fP
The restic docker image.
.TP
\fB\fB\-\-restic-password\fR <default: \fI$RESTIC_PASSWORD\fR>\fP
The restic backup password.
.SS Metrics Options
.TP
\fB\fB\-g\fR, \fB\-\-gateway-url\fR <default: \fI$PUSHGATEWAY_URL\fR>\fP
The prometheus push gateway URL to use.
.SS AWS Options
.TP
\fB\fB\-\-aws-access-key-id\fR <default: \fI$AWS_ACCESS_KEY_ID\fR>\fP
The AWS access key ID.
.TP
\fB\fB\-\-aws-secret-key-id\fR <default: \fI$AWS_SECRET_ACCESS_KEY\fR>\fP
The AWS secret access key.
.SS Swift Options
.TP
\fB\fB\-\-swift-username\fR <default: \fI$SWIFT_USERNAME\fR>\fP
The Swift user name.
.TP
\fB\fB\-\-swift-password\fR <default: \fI$SWIFT_PASSWORD\fR>\fP
The Swift password.
.TP
\fB\fB\-\-swift-auth_url\fR <default: \fI$SWIFT_AUTHURL\fR>\fP
The Swift auth URL.
.TP
\fB\fB\-\-swift-tenant-name\fR <default: \fI$SWIFT_TENANTNAME\fR>\fP
The Swift tenant name.
.TP
\fB\fB\-\-swift-region-name\fR <default: \fI$SWIFT_REGIONNAME\fR>\fP
The Swift region name.
.SS Docker Options
.TP
\fB\fB\-e\fR, \fB\-\-docker-endpoint\fR <default: \fI"unix:///var/run/docker.sock"\fR>\fP
The Docker endpoint.
.SS Kubernetes Options
.TP
\fB\fB\-\-k8s-namespace\fR <default: \fI$K8S_NAMESPACE\fR>\fP
Namespace where you want to run Bivac.
.TP
\fB\fB\-\-k8s-kubeconfig\fR <default: \fI$K8S_KUBECONFIG\fR>\fP
Path to your kubeconfig file.
.SS Help Options
.TP
\fB\fB\-h\fR, \fB\-\-help\fR\fP
Show this help message
